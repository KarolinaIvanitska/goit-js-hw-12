{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst imageEl = document.querySelector('.gallery');\n\nexport function imageTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return ` \n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      width=\"360\"\n      height = \"220\"\n    />\n  </a>\n  <p class=\"large-image\"> largeImageURL: \"${largeImageURL}\"</p>\n  <div class =\"container-images\">  \n  <p class=\"tags\"> <span class=\"text\">tags</span> \"${tags}\"</p>\n      <p class = \"likes\"><span class=\"text\"> likes</span> \"${likes}\"</p>\n      <p class=\"likes\"> <span class=\"text\">views</span>\"${views}\"</p>\n      <p class=\"likes\"> <span class=\"text\">comments</span>\"${comments}\"</p>\n      <p class=\"likes\"> <span class=\"text\">downloads</span>\"${downloads}\"</p>\n      </div>\n</li>`;\n}\n\nexport function imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\nexport function renderMarkup(image, arr) {\n  imageEl.insertAdjacentHTML('beforeend', imagesTemplate(arr));\n}\n\nexport function refreshLightBox() {\n  lightbox.refresh();\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42814531-6217cd85928bc5270423ce53d';\n\nexport function getPhotos(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}/?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderMarkup, refreshLightBox } from './js/render-function';\nimport { getPhotos } from './js/pixabay-api';\n\nconst formElem = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst imageEl = document.querySelector('.gallery');\n\nformElem.addEventListener('submit', e => {\n  e.preventDefault();\n  imageEl.innerHTML = '';\n\n  const userSearch = e.target.elements.search.value.trim();\n  if (userSearch === '') {\n    iziToast.warning({\n      titleColor: '#fff',\n      messageColor: '#fff',\n      backgroundColor: '#ffa000',\n      message: 'Please enter a search query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n\n  getPhotos(userSearch)\n    .then(data => {\n      if (data.hits.length === 0) {\n        return iziToast.error({\n          title: 'Error',\n          titleColor: '#fff',\n          messageColor: '#fff',\n          backgroundColor: '#ef4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      renderMarkup(imageEl, data.hits);\n      refreshLightBox();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  e.target.reset();\n});\n\nfunction showLoader() {\n  if (loader) {\n    loader.style.display = 'block';\n  }\n}\n\nfunction hideLoader() {\n  if (loader) {\n    loader.style.display = 'none';\n  }\n}\n"],"names":["lightbox","SimpleLightbox","imageEl","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderMarkup","image","refreshLightBox","BASE_URL","API_KEY","getPhotos","q","params","url","res","formElem","loader","e","userSearch","iziToast","showLoader","data","error","hideLoader"],"mappings":"6vBAIO,MAAMA,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAc,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,kCAEyBL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAK2BD,CAAa;AAAA;AAAA,qDAEJC,CAAI;AAAA,6DACIC,CAAK;AAAA,0DACRC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA,MAGvE,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASU,EAAaC,EAAOF,EAAK,CACvCV,EAAQ,mBAAmB,YAAaS,EAAeC,CAAG,CAAC,CAC7D,CAEO,SAASG,GAAkB,CAChCf,EAAS,QAAO,CAClB,CCpDA,MAAMgB,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAUC,EAAG,CAC3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKE,EAAM,GAAGL,CAAQ,KAAKI,CAAM,GAElC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCXA,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCtB,EAAU,SAAS,cAAc,UAAU,EAEjDqB,EAAS,iBAAiB,SAAUE,GAAK,CACvCA,EAAE,eAAc,EAChBvB,EAAQ,UAAY,GAEpB,MAAMwB,EAAaD,EAAE,OAAO,SAAS,OAAO,MAAM,OAClD,GAAIC,IAAe,GAAI,CACrBC,EAAS,QAAQ,CACf,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDC,IAEAV,EAAUQ,CAAU,EACjB,KAAKG,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAOF,EAAS,MAAM,CACpB,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QACE,2EACF,SAAU,UACpB,CAAS,EAEHd,EAAaX,EAAS2B,EAAK,IAAI,EAC/Bd,GACN,CAAK,EACA,MAAMe,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EAEHN,EAAE,OAAO,OACX,CAAC,EAED,SAASG,GAAa,CAChBJ,IACFA,EAAO,MAAM,QAAU,QAE3B,CAEA,SAASO,GAAa,CAChBP,IACFA,EAAO,MAAM,QAAU,OAE3B"}